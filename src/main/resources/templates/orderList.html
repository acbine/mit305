<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/order.css">
    <title>êµ¬ë§¤ ë°œì£¼ì„œ ëª©ë¡</title>
    <style>
        .orderListSearchButton {  /* ê²€ìƒ‰ë²„íŠ¼ */
            background-color: black;
            color: white;
        }

        .orderList_head {
            padding: 1rem;
            text-align: center;
            vertical-align: middle;
            font-weight: 500;
            border-bottom: 1px solid #e2e8f0;
        }
        .order-table-style{
            width: 90%;
            border-collapse: collapse;
            font-size: 0.875rem;
        }
    </style>
</head>
<body>
<div class="flex justify-between mb-4">
    <h1 class="text-xl font-bold">ë°œì£¼ì„œ ëª©ë¡</h1>
    <div id="datesearch">
        <form action="#">
            <table border="1">
                <tr>
                    <td><input type="date" name="startDate"></td>
                    <td>~</td>
                    <td><input type="date" name="endDate"></td>
                    <td class="orderListSearchButton"><input class="orderListSearchButton" id="searchOrderWithDate" onclick="searchOrderListWithDate()" type="button" value="ê²€ìƒ‰"></td>
                </tr>
            </table>
        </form>
    </div>
</div>
<div class="orderContainer" style="overflow-y: auto; max-height: 270px; width:1645px ">
    <table class="order-table-style">
        <thead id="thead" class="orderList_head">
        <tr style="position: sticky;  top: 0;  background-color: #f2f2f2;">
            <th class="orderList_head">ë°œì£¼í’ˆ</th>
            <th class="orderList_head">ë°œì£¼ì„œ ë°œí–‰ì¼</th>
            <th class="orderList_head">ì—…ì²´ëª…</th>
            <th class="orderList_head">ì§„ì²™ ê²€ìˆ˜ ìƒíƒœ</th>
        </tr>
        </thead>
        <tbody id="tbody">
        <tr class="orderList" th:each="order : ${oList}">
            <td th:text="${order.productName}"></td>
            <td th:text="${order.orderDate}"></td>
            <td th:text="${order.departName}"></td>
            <td th:text="${order.orderState}"></td>
            <td>
                <div th:if="${order.progressInspectionStatus == true}"></div>
                <button class="orderListSearchButton" th:if="${order.progressInspectionStatus == false}" th:id="${order.productCode}"
                        th:attr="onclick='openOrderInspectPopup(\'' + ${order.productCode} + '\',\'' + ${order.procurementPlanCode} + '\',\'' + ${orderStat.index} + '\')'">ì§„ì²™ê²€ìˆ˜ë“±ë¡
                </button>
            </td>
            <td th:attr="onclick='openOrder(\'' + ${order.procurementPlanCode} + '\')'">ğŸ”ï¸</td>
        </tr>
        </tbody>
    </table>
</div>
<div id="orderInspectPopup" class="popup"> <!--íŒì—…ì°½ ë°±ê·¸ë¼ìš´ë“œ-->
    <div class="popup-inspector-content">
        <div id="orderListPopup"></div>
    </div>
</div>
<div id="orderPopup" class="orderPopup" onclick="closeOrder()"> <!--íŒì—…ì°½ ë°±ê·¸ë¼ìš´ë“œ-->
    <div class="order-popup-content" id="order-popup-content">
        <div id="orderPopupDiv"></div>
    </div>
</div>
<script src="/js/order.js"></script>
</body>
</html>
